(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{t0e1:function(e,t,n){"use strict";n.r(t);n("2qtc");var r=n("kLXV"),a=(n("giR+"),n("fyUT")),o=(n("OaEy"),n("2fM7")),i=(n("y8nQ"),n("Vl3Y")),l=(n("5NDa"),n("5rEg")),c=(n("g9YV"),n("wCAj")),u=(n("+L6B"),n("2/Rp")),p=(n("P2fV"),n("NJEC")),s=n("q1tI"),f=n.n(s),d=n("/MKj"),y=n("Wgwc"),m=n.n(y);function v(e){return(v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,l,"next",e)}function l(e){h(o,r,a,i,l,"throw",e)}i(void 0)})}}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I={labelCol:{span:4},wrapperCol:{span:12}},j=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return r=this,a=(e=w(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==v(a)&&"function"!==typeof a?C(r):a,S(C(n),"state",{visible:!1,current:null}),S(C(n),"getColumns",function(){return[{title:"\u7236\u8282\u70b9ID",dataIndex:"parentId",render:function(e,t){return e?t.parent.categoryName:"-"}},{title:"\u83dc\u5355\u540d\u79f0",dataIndex:"categoryName"},{title:"\u5730\u5740",dataIndex:"url"},{title:"\u4f18\u5148\u7ea7",dataIndex:"priority"},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"updateTime",render:function(e){return f.a.createElement("span",null,m()(e).format("YYYY-MM-DD hh:mm:ss"))}},{title:"\u64cd\u4f5c",render:function(e,t){return f.a.createElement("div",{className:"anvil-btn"},f.a.createElement("a",{onClick:n.handleToEdit(t)},"\u4fee\u6539"),f.a.createElement(p.a,{title:"\u662f\u5426\u7ee7\u7eed?",cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",onConfirm:n.handleConfirmDelete(t)},f.a.createElement("a",null,"\u5220\u9664")))}}]}),S(C(n),"handleToAdd",function(){n.setState({visible:!0})}),S(C(n),"handleConfirm",function(){var e=n.props,t=e.form.validateFields,r=e.dispatch,a=e.categoryState;t(function(e,t){var o,i;e||((null===(o=a.current)||void 0===o?void 0:o.id)&&(t.id=null===(i=a.current)||void 0===i?void 0:i.id),r({type:"category/updateCategory",payload:{category:t,current:null}}),n.setState({visible:!1}))})}),S(C(n),"handleCancel",function(){n.setState(function(e){return{visible:!e.visible}})}),S(C(n),"handleToEdit",function(e){return function(){(0,n.props.dispatch)({type:"category/setState",payload:{current:e}}),n.setState({visible:!0})}}),S(C(n),"handleConfirmDelete",function(e){return g(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.props.dispatch,t.next=3,r({type:"category/deleteCategory",payload:e});case 3:case"end":return t.stop()}},t,this)}))}),n}var n,s,d;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,f.a.Component),n=t,(s=[{key:"componentDidMount",value:function(){(0,this.props.dispatch)({type:"category/getList"})}},{key:"render",value:function(){var e,t,n,p,s=this.props,d=s.categoryState,y=s.form.getFieldDecorator,m=this.state.visible,v=d.current;return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",null,f.a.createElement(u.a,{type:"primary",onClick:this.handleToAdd},"\u6dfb\u52a0\u76ee\u5f55")),f.a.createElement(c.a,{rowKey:"id",columns:this.getColumns(),pagination:d.pagination,dataSource:d.list}),f.a.createElement(r.a,{visible:m,title:v?"\u66f4\u65b0\u76ee\u5f55":"\u589e\u52a0\u76ee\u5f55",onCancel:this.handleCancel,onOk:this.handleConfirm},f.a.createElement(i.a,{layout:"vertical"},f.a.createElement(i.a.Item,b({label:"\u540d\u79f0"},I),y("categoryName",{initialValue:null===(e=d.current)||void 0===e?void 0:e.categoryName})(f.a.createElement(l.a,null))),f.a.createElement(i.a.Item,b({label:"\u5730\u5740"},I),y("url",{initialValue:null===(t=d.current)||void 0===t?void 0:t.url})(f.a.createElement(l.a,null))),f.a.createElement(i.a.Item,b({label:"\u7236\u7ea7\u76ee\u5f55"},I),y("parentId",{initialValue:null===(n=d.current)||void 0===n?void 0:n.parentId})(f.a.createElement(o.a,null,d.list.map(function(e){return f.a.createElement(o.a.Option,{key:e.id,value:e.id},e.categoryName)})))),f.a.createElement(i.a.Item,b({label:"\u4f18\u5148\u7ea7"},I),y("priority",{initialValue:null===(p=d.current)||void 0===p?void 0:p.priority})(f.a.createElement(a.a,{precision:0}))))))}}])&&E(n.prototype,s),d&&E(n,d),t}();t.default=Object(d.connect)(function(e){return{categoryState:e.categoryState}})(i.a.create({mapPropsToFields:function(e){return e.current}})(j))}}]);
//# sourceMappingURL=14.a3f79647.js.map